<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MedAI Lexicon</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background-color: #f8fafc;
      font-size: 0.95rem;
      line-height: 1.6;
      color: #0f172a;
    }
    h1, h2, h3, h4 {
      font-family: 'Playfair Display', serif;
      letter-spacing: -0.02em;
    }

    /* Scrollbar */
    .scrollbar-thin::-webkit-scrollbar {
      width: 7px;
    }
    .scrollbar-thin::-webkit-scrollbar-track {
      background: transparent;
    }
    .scrollbar-thin::-webkit-scrollbar-thumb {
      background-color: #a78bfa;
      border-radius: 9999px;
    }

    /* BEST POSSIBLE TERM LIST â€“ 3 columns, no scrolling on desktop */
    #termList {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 13px;
      padding: 20px 16px;
      place-items: start center;
      overflow-y: auto;
    }

    /* Vibrant pills */
    .term-pill {
      padding: 7px 16px;
      background: white;
      border: 1.7px solid #cbd5ff;
      border-radius: 999px;
      font-size: 14px;
      font-weight: 600;
      color: #3b2aff;
      white-space: nowrap;
      cursor: pointer;
      transition: all 0.22s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 2px 6px rgba(99, 102, 241, 0.1);
      background: linear-gradient(145deg, #ffffff, #f9f8ff);
    }

    .term-pill:hover {
      transform: translateY(-2.5px) scale(1.04);
      border-color: #8b5cf6;
      background: linear-gradient(145deg, #f3f0ff, #e6e0ff);
      box-shadow: 0 9px 22px rgba(139, 92, 246, 0.32);
      color: #6d28d9;
    }

    .term-pill.active {
      background: linear-gradient(135deg, #7c3aed, #a855f7);
      color: white !important;
      border-color: #a855f7;
      font-weight: 700;
      box-shadow: 0 9px 26px rgba(139, 92, 246, 0.5);
      transform: translateY(-1px);
    }

    #detailVisual, #detailUsage {
      font-weight: 400;
      color: #0f172a;
    }
  </style>
</head>
<body class="min-h-screen">
  <div class="min-h-screen flex flex-col">
    <!-- Header, intro, fluency studio card â€“ all unchanged -->
    <!-- ... (everything you already have is perfect) ... -->

    <!-- Main content -->
    <main class="flex-1">
      <div class="max-w-7xl mx-auto px-4 py-4 md:py-6 grid gap-6 md:grid-cols-[minmax(0,1.15fr)_minmax(0,1.85fr)]">
        <section class="bg-white border border-slate-200 rounded-2xl shadow-sm p-4 md:p-5 flex flex-col h-[32rem] md:h-[36rem]">
          <!-- Companion resources card -->
          <div class="mb-4 rounded-2xl border border-indigo-100 bg-indigo-50 p-3 text-sm">
            <!-- ... unchanged ... -->
          </div>

          <h3 class="text-lg font-semibold text-slate-900 mb-3">AI Terms</h3>

          <div class="relative mb-4">
            <input id="searchInput" type="text" placeholder="ðŸ” Search 34 termsâ€¦" 
              class="w-full rounded-xl border border-slate-300 bg-white px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 shadow-sm" />
          </div>

          <div id="termList" class="flex-1 overflow-y-auto scrollbar-thin">
            <!-- Pills go here -->
          </div>
        </section>

        <!-- Right panel â€“ unchanged -->
        <!-- ... your detail panel stays exactly the same ... -->
      </div>

      <!-- Suggested clusters â€“ unchanged -->
      <!-- ... -->
    </main>

    <!-- Footer â€“ unchanged -->
  </div>

  <script>
    const TERMS = [ /* â† your full 34-term array stays 100% here */ ];

    // Sort alphabetically â€“ looks way more professional
    TERMS.sort((a, b) => a.term.localeCompare(b.term));

    const termListEl = document.getElementById("termList");
    const searchInputEl = document.getElementById("searchInput");
    const detailEmptyStateEl = document.getElementById("detailEmptyState");
    const detailPanelEl = document.getElementById("detailPanel");
    const detailTermEl = document.getElementById("detailTerm");
    const detailShortEl = document.getElementById("detailShort");
    const detailVisualEl = document.getElementById("detailVisual");
    const detailUsageEl = document.getElementById("detailUsage");
    const roleLabelEl = document.getElementById("roleLabel");
    const roleBodyEl = document.getElementById("roleBody");
    const roleTabs = document.querySelectorAll(".role-tab");

    let selectedTermId = null;
    let selectedRole = "physician";

    function renderTermList(filter = "") {
      termListEl.innerHTML = "";
      const lower = filter.toLowerCase();
      const filtered = TERMS.filter(t => 
        t.term.toLowerCase().includes(lower) || 
        t.id.toLowerCase().includes(lower)
      );

      filtered.forEach(term => {
        const pill = document.createElement("div");
        pill.className = "term-pill";
        pill.textContent = term.term;
        pill.dataset.termId = term.id;
        if (term.id === selectedTermId) pill.classList.add("active");

        pill.onclick = () => {
          selectedTermId = term.id;
          document.querySelectorAll(".term-pill").forEach(p => p.classList.remove("active"));
          pill.classList.add("active");
          showTermDetail(term);
        };
        termListEl.appendChild(pill);
      });
    }

    function showTermDetail(term) {
      detailEmptyStateEl.classList.add("hidden");
      detailPanelEl.classList.remove("hidden");
      detailTermEl.textContent = term.term;
      detailShortEl.textContent = term.short;
      detailVisualEl.textContent = term.visual;
      detailUsageEl.textContent = term.usage;
      setRole(selectedRole, term);
    }

    function setRole(role, term) {
      selectedRole = role;
      roleTabs.forEach(tab => {
        tab.classList.toggle("ring-2 ring-slate-300 shadow-sm border border-slate-300", tab.dataset.role === role);
      });
      const labels = {
        physician: "Explanation for physicians",
        scientist: "Explanation for basic science researchers",
        researcher: "Explanation for clinical researchers"
      };
      roleLabelEl.textContent = labels[role];
      roleBodyEl.textContent = term[role] || "";
    }

    roleTabs.forEach(tab => {
      tab.onclick = () => {
        const term = TERMS.find(t => t.id === selectedTermId);
        if (term) setRole(tab.dataset.role, term);
      };
    });

    searchInputEl.oninput = e => renderTermList(e.target.value);

    // Initial load
    renderTermList();
    selectedTermId = TERMS[0].id;
    showTermDetail(TERMS[0]);
    setTimeout(() => document.querySelector(".term-pill")?.classList.add("active"), 100);
  </script>
</body>
</html>
